sloth.3000
sloth.3000
ç·šä¸Š

å¥½éŒ’[iOS]
 â€” 2025/3/14 ä¸Šåˆ 08:52
å·²è½‰ç™¼
é™„ä»¶æª”æ¡ˆé¡å‹ï¼šarchive
A21A9DB647C1AABE12458972117D526A5689E431_TIMEPICK2.html.zip
2.75 KB
#yoé–’èŠ  â€¢  2025/3/14
sloth.3000[PRO]
 â€” 2025/4/10 ä¸Šåˆ 10:23
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TimePick</title>
å±•é–‹
TIMEPICK2.html
10 KB
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Name Input Form</title>
å±•é–‹
TIMEPICK1.html
4 KB
å¥½éŒ’[iOS]
 â€” 2025/4/10 ä¸‹åˆ 03:23
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TimePick</title>
å±•é–‹
choose.html
13 KB
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Log in - TIMEPICK</title>
å±•é–‹
index.html
9 KB
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Common Available Time - TIMEPICK</title>
å±•é–‹
third.html
9 KB
sloth.3000[PRO]
 â€” 2025/4/10 ä¸‹åˆ 03:49
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Choose Time</title>
å±•é–‹
!DOCTYPE html.txt
3 KB
sloth.3000[PRO]
 â€” 2025/4/12 ä¸Šåˆ 10:50
è ‘èˆ!choose.htmlæˆ‘ä¿®å¥½æœˆæ›†çš„å•é¡Œ 
å¥½éŒ’[iOS]
 â€” 2025/4/12 ä¸Šåˆ 10:50
ï¼Ÿ
å¤©å•ŠçœŸå‡
sloth.3000[PRO]
 â€” 2025/4/12 ä¸Šåˆ 10:50
æ‰“å¤ªå¿«æ‰“ä¸€åŠxd(æˆ‘ç¾åœ¨èˆ¹ï¼Œä½ æœ‰ç©ºçœ‹çœ‹
å¥½éŒ’[iOS]
 â€” 2025/4/12 ä¸Šåˆ 10:50
å¥½ğŸ¤£
sloth.3000[PRO]
 â€” 2025/4/12 ä¸Šåˆ 10:51
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TimePick</title>
å±•é–‹
choose.html.txt
19 KB
å–”ç­‰ç­‰ï¼Œæˆ‘ç™¼ç¾å®ƒè‘—è‰²çš„éƒ¨åˆ†æœ‰é»æ€ªï¼Œä½†åŠŸèƒ½æ˜¯å¯ä»¥çš„xd
å¥½éŒ’[iOS]
 â€” 2025/4/12 ä¸Šåˆ 11:05
æˆ‘æ­£åœ¨ç¯‰å¤¢è¨ˆç•«è¨Šæ¯å¯èƒ½å›æ¯”è¼ƒæ…¢
sloth.3000[PRO]
 â€” 2025/4/12 ä¸Šåˆ 11:05
okçš„~æˆ‘ç¹¼çºŒä¿®bug
å¥½éŒ’[iOS]
 â€” 2025/4/12 ä¸Šåˆ 11:07
å“‡å“‡å“‡
ä½ åšåˆ°æˆ‘ä¸€é–‹å§‹æƒ³åƒçš„ç•«é¢
å¥½å¼·ï¼ï¼
sloth.3000[PRO]
 â€” 2025/4/12 ä¸‹åˆ 12:15
é€™å€‹æ‰æ˜¯ä¿®å¥½çš„choose.html 
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TimePick</title>
å±•é–‹
choose.html.txt
20 KB
å·®third.htmlï¼Œä¸èƒ½æ­£å¸¸é€£çµchoose.htmlæ‰€é¸çš„ç¯„åœ
å¥½éŒ’[iOS]
 â€” 2025/4/12 ä¸‹åˆ 12:17
é‚£æˆ‘ç­‰ç­‰å¼„ã„‡ã„š
ä¸²é€£æ¥æ²’é‚£éº¼é‡è¦
sloth.3000[PRO]
 â€” 2025/4/12 ä¸‹åˆ 12:18
å¥½è€¶!æˆ‘å‰›åŠªåŠ›å˜—è©¦ä½†æ’ç‰ˆè¢«æˆ‘ç”¨æ¯€äº†xd
åœ–ç‰‡
å¥½éŒ’[iOS]
 â€” 2025/4/12 ä¸‹åˆ 12:18
ç¾åœ¨æ˜¯æ­£å¸¸çš„å—
åŠŸèƒ½ä¸Š
sloth.3000[PRO]
 â€” 2025/4/12 ä¸‹åˆ 12:19
æ²’æœ‰åŠŸèƒ½xd
å¥½éŒ’[iOS]
 â€” 2025/4/12 ä¸‹åˆ 12:19
å–”å–”å–”é‚£æ’ç‰ˆæ‡‰è©²å°±æ²’å·®äº†ğŸ˜‚
sloth.3000[PRO]
 â€” 2025/4/12 ä¸‹åˆ 12:20
åªæœ‰å®ƒç´°åˆ†æˆæ¯åŠå°æ™‚ä¸€æ ¼å°±ç”¨å¾ˆä¹…www
è€Œä¸”ä»–æœ‰å…©å€‹backéµ
å”¯ä¸€å¥½è™•æ˜¯è‡³å°‘å®ƒæ˜¯éŸ¿æ‡‰æ˜¯ç¶²é  
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Common Available Time - TIMEPICK</title>
å±•é–‹
message.txt
13 KB
å¥½éŒ’[iOS]
 â€” 2025/4/12 ä¸‹åˆ 12:21
è¶…å¥½ç¬‘
æˆ‘ç¾åœ¨ç„¡æ³•é–‹é›»è…¦
sloth.3000[PRO]
 â€” 2025/4/12 ä¸‹åˆ 12:22
é‚£å€‹æª”æ¡ˆæ˜¯third.htmlï¼Œæœ‰éœ€è¦å¯ä»¥å¾é€™å€‹ä¿®æ”¹
å¥½éŒ’[iOS]
 â€” 2025/4/12 ä¸‹åˆ 12:23
å¥½çš„
sloth.3000[PRO]
 â€” 2025/4/13 ä¸‹åˆ 07:53
æœ‰é»é¸åé»ƒçš„åŠŸèƒ½!
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Common Available Time - TIMEPICK</title>
å±•é–‹
æ–°çš„third.html.txt
13 KB
sloth.3000[PRO]
 â€” 2025/4/13 ä¸‹åˆ 08:04
æˆ‘æƒ³æƒ³ç›®å‰æˆ‘å€‘é›¢æœŸæœ«é‚„å·®:
å‰ç«¯:,
timezoneçš„å•é¡Œã€‚,
åˆ‡æ›èªè¨€çš„ä¸€è‡´æ€§ã€‚ç›®å‰åªæœ‰index.html(ç¬¬ä¸€é )å¯ä»¥åˆ‡æ›èªè¨€ã€‚,
3.ä»‹é¢æŒçºŒå„ªåŒ–(äººæ©Ÿè¨­è¨ˆ)

å¾Œç«¯:,
googleç™»å…¥,
2.è³‡æ–™åº«(?
è™•ç†ç™¼å¸ƒç­‰ç­‰ç­‰,
åˆ†äº«å·²å»ºå¥½çš„è¡Œç¨‹çš„åŠŸèƒ½ï¼Œä¸¦èƒ½æ·»åŠ ,
å¥½éŒ’[iOS]
 â€” 2025/4/15 ä¸‹åˆ 01:14
å¤©æˆ‘è¢«åé€šçŸ¥ï¼Œæˆ‘æƒ³é‚„æœ‰é¸å–æ™‚é–“å¾Œçš„çµæœå‘ˆç¾é 
å‰ç«¯çš„éƒ¨åˆ†
sloth.3000[PRO]
 â€” 2025/4/15 ä¸‹åˆ 04:32
å–”å°ï¼é‚£éƒ¨åˆ†å†å•å•æ˜¯ä¸æ˜¯é™³åœ“è¦åš
å¥½éŒ’[iOS]
 â€” 2025/4/15 ä¸‹åˆ 04:32
ä»–åªæœ‰å‚³æˆªåœ–
æ²’æœ‰ç¨‹å¼ç¢¼
sloth.3000[PRO]
 â€” 2025/4/15 ä¸‹åˆ 04:34
å°ï¼Œä»–èªªä»–é‚„åœ¨ä¿®ï¼Œæˆ‘è¦ºå¾—ä»–å¥½åƒä¾†ä¸åŠå ±å‘Šå‰å®Œæˆï¼ˆåŸæœ¬é è¨­æ˜¯å¯ä»¥ï¼Œç„¶å¾Œè®“ä»–å€‘å ±å‘Šç›®å‰çš„version 2
å¥½éŒ’[iOS]
 â€” 2025/4/21 ä¸‹åˆ 05:21
114å¹´ã€ŒGen AIï¼ˆç”Ÿæˆå¼AIï¼‰å·¥ç¨‹å¸«åŸ¹è‚²ã€èª²ç¨‹ï¼Œæ•¬è«‹åŒå­¸è¸´èºå ±ååƒåŠ ã€‚å ±åé€£çµhttps://forms.gle/WA6Hk5wwgj7s7ZoL9
Google Docs
114.05.24-25ã€Œ Gen AI å·¥ç¨‹å¸«åŸ¹è‚²è¨ˆç•« ã€ èª²ç¨‹å ±åè¡¨
æ­¡è¿å ±å
åœ–ç‰‡
https://www.ntue.edu.tw/p/406-1000-35779,r492.php?Lang=zh-tw
sloth.3000[PRO]
 â€” ä¸‹åˆ 02:33
sign in > sign up >set up date > make time

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
å±•é–‹
MakeTime.html
16 KB
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>TimePick</title>
å±•é–‹
SetUpDate.html
19 KB
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>TimePick</title>
  <link href="https://fonts.googleapis.com/css2?family=Baloo+2:wght@600;700&display=swap" rel="stylesheet">
å±•é–‹
SignIn.html
5 KB
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>TimePick</title>
å±•é–‹
SignUp.html
6 KB
å¥½éŒ’[iOS]
 â€” ä¸‹åˆ 02:33
æ”¶åˆ°
sloth.3000[PRO]
 â€” ä¸‹åˆ 02:33
æˆ‘ç›®å‰æ˜¯ä¿®æ”¹ set up dateåˆ°make time
ç¾åœ¨åˆæ²’é›¨XD ä½ åœ¨çœ‹å¦‚æœä½ æº–å‚™æ­è»Šæˆ–å‡ºé–€çš„æ™‚å€™æœ‰æ²’æœ‰ä¸‹é›¨ï¼Œåœ¨è·Ÿæˆ‘èªªå°±è¡Œ~ 
å…ˆæ­è»Šäº†886
é€™ä»½æ–°çš„æˆ‘é‚„æ²’æ”¾github 
sloth.3000[PRO]
 â€” ä¸‹åˆ 04:12
ç«Ÿç„¶æ²’é›¨äº†ï¼Œçªç„¶è®“æˆ‘åœ¨æƒ³æˆ‘å‰›å‰›ç©¶ç«Ÿåœ¨å¿™ä»€éº¼ğŸ˜‚
è ‘èˆåœ¨çœ‹ä½ è¦å¯¦é«”é‚„ç·šä¸Šï¼Œæˆ‘å¯ï¼Œæˆ‘å‰›å‰›çµæŸç¾åœ¨å›ä¾†äº†
å¥½éŒ’[iOS]
 â€” ä¸‹åˆ 04:19
å°å•Š
æˆ‘å€‘å¯¦é«”ã„…ã„š
ä½ ä¸Šè»Šçš„æ™‚å€™è·Ÿæˆ‘èªªä¸€è²
sloth.3000[PRO]
 â€” ä¸‹åˆ 04:19
å¥½ğŸ’ª
å¥½éŒ’[iOS]
 â€” ä¸‹åˆ 04:19
æˆ‘æº–å‚™èµ°éå»
ğŸ’ª
sloth.3000[PRO]
 â€” ä¸‹åˆ 04:19
æˆ‘ç¾åœ¨åœ¨å®¶åğŸ˜‚ å‰›å‰›æœ‹å‹è¼‰ğŸ˜‚ï¼ˆè¹­è»Š 
sloth.3000[PRO]
 â€” ä¸‹åˆ 04:19
ok
å¥½éŒ’[iOS]
 â€” ä¸‹åˆ 04:21
è¶…å¥½ç¬‘
åŸä¾†
å¥½éŒ’[iOS]
 â€” ä¸‹åˆ 04:21
æˆ‘æ‡‰è©²æœƒæ‹–ä¸€é™£å­
ç­‰ç­‰æœ‰äººè¦ä¾†æ‰¾æˆ‘æ‹¿æ±è¥¿
èµ°è·¯æ„å¤–çš„è¿‘
çœŸä¸éŒ¯
sloth.3000[PRO]
 â€” ä¸‹åˆ 04:25
æ­è™§
è ‘èˆå…è¨±æˆ‘ç©¿çš„å®…
æˆ‘è¦æ›è£ä¸€ä¸‹
å¥½éŒ’[iOS]
 â€” ä¸‹åˆ 04:26
æˆ‘ä¹Ÿç©¿è¶…å®…
æ²’äº‹
åœ–ç‰‡
ï¼Ÿï¼Ÿï¼Ÿ
é€™ç¨®ç¨‹åº¦
sloth.3000[PRO]
 â€” ä¸‹åˆ 04:26
å¥½è€¶ï¼Œæˆ‘é‚„è¦é…ä¸Šæˆ‘çš„å®…å®…çœ¼é¡
åœ–ç‰‡
å¥½éŒ’[iOS]
 â€” ä¸‹åˆ 04:27
é‚„æ˜¯æˆ‘æ›æˆhitconè¡£æœ
è¶…å¥½ç¬‘
sloth.3000[PRO]
 â€” ä¸‹åˆ 04:30
è·¯æ˜“èæˆ‘è¨˜å¾—æœ‰å†·æ°£è¦å¸¶å¤–å¥—
å¥½éŒ’[iOS]
 â€” ä¸‹åˆ 04:30
å¥½ï¼
sloth.3000[PRO]
 â€” ä¸‹åˆ 04:30
ä¹Ÿæœ‰å¯èƒ½æ˜¯å› ç‚ºæˆ‘æ€•å†·ğŸ¤”
å¥½éŒ’[iOS]
 â€” ä¸‹åˆ 04:36
æˆ‘è¦ºå¾—æˆ‘æ‡‰è©²ä¹Ÿæœƒå†·
æ˜¯èªªä½ é€±ä¸‰æœ‰äº‹å—
ç†±èˆç¤¾å¤§æˆ
æˆ‘æœ‹å‹å•æˆ‘è¦ä¸è¦å¸¶æœ‹å‹å»ğŸ¤£
sloth.3000[PRO]
 â€” ä¸‹åˆ 04:38
æˆ‘è¦å†æ¬¡MISè¨è«–ğŸ¥º
å¥½éŒ’[iOS]
 â€” ä¸‹åˆ 04:38
å¥½wwww
æˆ‘ä¸‹ç¦®æ‹œä¹Ÿè¦é¢è©¦é‚£å€‹åœ–æ›¸é¤¨çš„æ‰“å·¥
sloth.3000[PRO]
 â€” ä¸‹åˆ 04:42
ä¸Šå§èˆ
å¥½éŒ’[iOS]
 â€” ä¸‹åˆ 04:49
å¥½çš„
æˆ‘åœ¨æ‡¶å¾—å‡ºé–€ï¼ˆå¹¹
sloth.3000[PRO]
 â€” ä¸‹åˆ 04:49
è ‘èˆæˆ‘æ­£åœ¨æƒ³è¦ä¸è¦å»æ¥“åº·ğŸ˜‚ğŸ˜‚
è²·æ˜å¤©æ—©é¤
ä½ è¦è·Ÿæˆ‘ä¸€èµ·æ›–æ˜§çš„é€›è¶…å¸‚å—ğŸ¤£
sloth.3000[PRO]
 â€” ä¸‹åˆ 07:20
timepick-d4a6e.web.app
å¥½éŒ’[iOS]
 â€” ä¸‹åˆ 07:20
// Import the functions you need from the SDKs you need
import { initializeApp } from "firebase/app";
import { getAnalytics } from "firebase/analytics";
// TODO: Add SDKs for Firebase products that you want to use
// https://firebase.google.com/docs/web/setup#available-libraries

// Your web app's Firebase configuration
// For Firebase JS SDK v7.20.0 and later, measurementId is optional
const firebaseConfig = {
  apiKey: "AIzaSyDB4VGyvOTvwkBSKzgp_HSeKSWW0NMAOmA",
  authDomain: "timepick-d4a6e.firebaseapp.com",
  projectId: "timepick-d4a6e",
  storageBucket: "timepick-d4a6e.firebasestorage.app",
  messagingSenderId: "348026209415",
  appId: "1:348026209415:web:c5959134acfa9dec876422",
  measurementId: "G-HRG2QH1YHW"
};

// Initialize Firebase
const app = initializeApp(firebaseConfig);
const analytics = getAnalytics(app);
Firebase
Add Firebase to your JavaScript project  |  Firebase for web plat...
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>TimePick</title>
å±•é–‹
message.txt
19 KB
firebase deploy --only hosting
sloth.3000[PRO]
 â€” ä¸‹åˆ 08:02
https://timepick-d4a6e.web.app/
é†œåˆçŸ­çš„ 
å¥½éŒ’[iOS]
 â€” ä¸‹åˆ 08:47
<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>TIMEPICK - å»ºç«‹æ™‚é–“è¡¨</title>
å±•é–‹
message.txt
8 KB
ï»¿
<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>TIMEPICK - å»ºç«‹æ™‚é–“è¡¨</title>
  <style>
    body {
      font-family: Arial, 'Noto Sans TC', sans-serif;
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
    }
    .timetable table {
      border-collapse: collapse;
      width: 100%;
    }
    .timetable th, .timetable td {
      border: 1px solid #ddd;
      padding: 8px;
      text-align: center;
    }
    .timetable th {
      background-color: #f2f2f2;
    }
    .my-time td.available {
      background-color: #4caf50;
      cursor: pointer;
    }
    .group-availability td.level-1 { background-color: #e0f7fa; }
    .group-availability td.level-2 { background-color: #80deea; }
    .group-availability td.level-3 { background-color: #00bcd4; }
    .group-availability td.level-4 { background-color: #00838f; }
    button {
      padding: 10px 20px;
      margin: 5px;
      cursor: pointer;
    }
  </style>
  <!-- Firebase SDK -->
  <script src="https://www.gstatic.com/firebasejs/10.14.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.14.1/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.14.1/firebase-database.js"></script>
</head>
<body>
  <h1>TIMEPICK</h1>
  <div>
    <div>
      <button>New</button>
      <button>Share</button>
    </div>
    <div>
      <button>EN</button>
      <button>ç¹é«”ä¸­æ–‡</button>
    </div>
  </div>

  <h2>TIMETABLE</h2>
  <div>
    <div class="timetable">
      <h3>My Time</h3>
      <div id="my-time-container">
      </div>
    </div>
    <div class="timetable">
      <h3>Group Availability</h3>
      <div id="group-availability-container">
      </div>
    </div>
  </div>

  <script>
    // Firebase é…ç½®ï¼ˆè«‹ç¢ºèªä¸¦æ›¿æ›ç¼ºå°‘çš„æ¬„ä½ï¼‰
    const firebaseConfig = {
      apiKey: "YOUR_API_KEY",
      authDomain: "timepick-d4a6e.firebaseapp.com",
      databaseURL: "https://timepick-d4a6e-default-rtdb.firebaseio.com",
      projectId: "timepick-d4a6e",
      storageBucket: "timepick-d4a6e.appspot.com",
      messagingSenderId: "YOUR_MESSAGING_SENDER_ID",
      appId: "YOUR_APP_ID"
    };

    // åˆå§‹åŒ– Firebase
    firebase.initializeApp(firebaseConfig);
    const auth = firebase.auth();
    const database = firebase.database();

    // æ™‚é–“è¡¨è¨­å®š
    const days = ['mon', 'tue', 'wed', 'thu', 'fri', 'sat', 'sun'];
    const hours = Array.from({ length: 24 }, (_, i) => i); // 0-23 å°æ™‚
    let userId = null;
    const timetableId = new URLSearchParams(window.location.search).get('timetableId') || 'default';

    // åˆå§‹åŒ–æ™‚é–“è¡¨ç¶²æ ¼
    function initializeTimetables() {
      const myTimeContainer = document.getElementById('my-time-container');
      const groupContainer = document.getElementById('group-availability-container');

      // å»ºç«‹æˆ‘çš„æ™‚é–“è¡¨æ ¼
      const myTable = document.createElement('table');
      myTable.className = 'my-time';
      myTable.innerHTML = `
        <thead>
          <tr>
            <th>æ™‚é–“</th>
            ${days.map(day => `<th>${['é€±ä¸€', 'é€±äºŒ', 'é€±ä¸‰', 'é€±å››', 'é€±äº”', 'é€±å…­', 'é€±æ—¥'][days.indexOf(day)]}</th>`).join('')}
          </tr>
        </thead>
        <tbody>
          ${hours.map(hour => `
            <tr>
              <td>${hour}:00</td>
              ${days.map(day => `<td data-day="${day}" data-hour="${hour}"></td>`).join('')}
            </tr>
          `).join('')}
        </tbody>
      `;
      myTimeContainer.appendChild(myTable);

      // å»ºç«‹ç¾¤çµ„å¯ç”¨æ™‚é–“è¡¨æ ¼
      const groupTable = document.createElement('table');
      groupTable.className = 'group-availability';
      groupTable.innerHTML = `
        <thead>
          <tr>
            <th>æ™‚é–“</th>
            ${days.map(day => `<th>${['é€±ä¸€', 'é€±äºŒ', 'é€±ä¸‰', 'é€±å››', 'é€±äº”', 'é€±å…­', 'é€±æ—¥'][days.indexOf(day)]}</th>`).join('')}
          </tr>
        </thead>
        <tbody>
          ${hours.map(hour => `
            <tr>
              <td>${hour}:00</td>
              ${days.map(day => `<td data-day="${day}" data-hour="${hour}"></td>`).join('')}
            </tr>
          `).join('')}
        </tbody>
      `;
      groupContainer.appendChild(groupTable);

      // ç‚ºæˆ‘çš„æ™‚é–“æ·»åŠ é»æ“Šäº‹ä»¶
      document.querySelectorAll('.my-time td:not(:first-child)').forEach(cell => {
        cell.addEventListener('click', () => {
          cell.classList.toggle('available');
          saveSchedule();
        });
      });
    }

    // åŒ¿åèº«ä»½é©—è­‰
    auth.signInAnonymously().then(user => {
      userId = user.user.uid;
      initializeTimetables();
      loadUserSchedule();
      listenForGroupAvailability();
    }).catch(error => {
      alert('èº«ä»½é©—è­‰å¤±æ•—ï¼š' + error.message);
    });

    // åŠ è¼‰ä½¿ç”¨è€…æ™‚é–“è¡¨
    function loadUserSchedule() {
      database.ref(`timetables/${timetableId}/users/${userId}/schedule`).once('value', snapshot => {
        const schedule = snapshot.val() || {};
        days.forEach(day => {
          hours.forEach(hour => {
            if (schedule[day]?.[hour]) {
              document.querySelector(`.my-time td[data-day="${day}"][data-hour="${hour}"]`).classList.add('available');
            }
          });
        });
      });
    }

    // å„²å­˜ä½¿ç”¨è€…æ™‚é–“è¡¨
    function saveSchedule() {
      const schedule = {};
      days.forEach(day => {
        schedule[day] = {};
        hours.forEach(hour => {
          const isAvailable = document.querySelector(`.my-time td[data-day="${day}"][data-hour="${hour}"]`).classList.contains('available');
          if (isAvailable) schedule[day][hour] = true;
        });
      });
      database.ref(`timetables/${timetableId}/users/${userId}/schedule`).set(schedule)
        .then(() => alert('æ™‚é–“è¡¨å·²å„²å­˜ï¼'))
        .catch(error => alert('å„²å­˜å¤±æ•—ï¼š' + error.message));
    }

    // ç›£è½ç¾¤çµ„å¯ç”¨æ™‚é–“
    function listenForGroupAvailability() {
      database.ref(`timetables/${timetableId}/group_availability`).on('value', snapshot => {
        const groupAvailability = snapshot.val() || {};
        days.forEach(day => {
          hours.forEach(hour => {
            const count = groupAvailability[day]?.[hour] || 0;
            const cell = document.querySelector(`.group-availability td[data-day="${day}"][data-hour="${hour}"]`);
            cell.classList.remove('level-1', 'level-2', 'level-3', 'level-4');
            if (count > 0) {
              cell.classList.add(`level-${Math.min(count, 4)}`);
              cell.textContent = count;
            } else {
              cell.textContent = '';
            }
          });
        });
      });
    }

    // Share æŒ‰éˆ•åŠŸèƒ½
    document.querySelector('button:nth-child(2)').addEventListener('click', () => {
      const url = `https://timepick-d4a6e.web.app/MakeTime.html?timetableId=${timetableId}`;
      navigator.clipboard.writeText(url).then(() => {
        alert('æ™‚é–“è¡¨é€£çµå·²è¤‡è£½åˆ°å‰ªè²¼ç°¿ï¼');
      });
    });

    // New æŒ‰éˆ•åŠŸèƒ½
    document.querySelector('button:nth-child(1)').addEventListener('click', () => {
      const newTimetableId = database.ref('timetables').push().key;
      database.ref(`timetables/${newTimetableId}`).set({
        name: 'æ–°æ™‚é–“è¡¨',
        description: 'è«‹è¼¸å…¥æè¿°',
        creator: userId
      }).then(() => {
        window.location.search = `timetableId=${newTimetableId}`;
      });
    });
  </script>
</body>
</html>
